模板方法模式实现，参考spring的设计思路
